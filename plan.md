# QuickerUse 开发计划

## 1. 项目概述
QuickerUse 是一个跨平台（Windows/Mac）的桌面效率工具。
**核心理念**: 极简交互。通过全局快捷键或鼠标中键唤起，自动获取选中文本，根据内容智能推荐操作，并提供"一键式"快捷功能。

## 2. 当前已实现功能

### 智能推荐功能 (Smart Features)

| 功能名称 | 操作标识 | 说明 |
|---------|---------|------|
| **搜索** | `search-google` | 使用默认浏览器搜索选中文本（支持Google/百度/Bing/DuckDuckGo） |
| **翻译** | `translate` | 翻译选中文本（支持Google/DeepL/百度/有道） |
| **打开链接** | `open-url` | 在浏览器中打开选中的 URL 链接 |
| **SQL IN** | `sql-in` | 将多行文本转为 SQL IN 语句格式 |
| **JSON处理** | `json-format` | 格式化/压缩/校验 JSON 数据 |
| **YAML处理** | `yaml-format` | YAML 格式化/校验/转JSON |
| **时间戳转换** | `timestamp-convert` | 时间戳与日期时间双向转换 |
| **变量命名转换** | `to-camel` | 驼峰/下划线/短横线/大写命名风格互转 |
| **信息提取** | `extract-info` | 批量提取 IP、邮箱、手机号、链接 |
| **二维码** | `generate-qr` | 文本/链接生成二维码图片 |
| **UUID** | `generate-uuid` | 生成随机 UUID 标识符 |
| **强密码** | `generate-password` | 生成 16 位随机强密码 |
| **屏幕取色** | `color-picker` | 拾取屏幕任意位置颜色（HEX/RGB） |
| **窗口分屏** | `window-left/right/full` | 窗口左/右分屏、最大化 |
| **窗口置顶** | `window-pin` | 将窗口设为始终置顶 |
| **倒计时** | `timer` | 快速设置定时提醒 |
| **闪念胶囊** | `memo` | 快速记录想法和备忘 |
| **贴图置顶** | `snip-pin` | 剪贴板图片浮窗显示 |

### 我的工具 (Custom Tools)
- 支持添加可执行文件/快捷方式作为快速启动项
- 支持管理员身份运行
- 支持自定义图标（emoji 或系统图标）
- 拖放文件自动获取文件图标
- 支持为每个工具配置独立快捷键

### 设置功能
- **外观设置**: 深色/浅色主题、窗口透明度、行数配置
- **快捷键设置**: 全局唤醒热键、功能独立热键
- **数据管理**: 开机自启、启动后最小化、中键唤醒、默认搜索/翻译引擎

### 系统特性
- 全局快捷键唤醒（默认 Alt+Space）
- 鼠标中键唤醒（MouseHook.exe）
- 窗口跟随鼠标位置显示
- 自动获取选中文本
- 系统托盘驻留

---

## 3. 功能增强规划（12条建设性建议）

> 以下功能均遵循"极简交互"设计理念：一键触发、智能识别、即用即走

### 🔥 高优先级（核心体验提升）

#### 3.1 剪贴板历史管理
**痛点**: 复制内容被覆盖后无法找回，频繁切换复制内容效率低
**方案**:
- 自动记录最近 50 条剪贴板历史（文本/图片/文件路径）
- 支持关键词搜索历史记录
- 支持收藏/置顶常用内容
- 一键粘贴历史条目
- 敏感内容（密码类）自动过滤或加密存储

**交互设计**:
```
唤醒面板 → 输入 `h` 或点击历史图标 → 显示历史列表 → 点击条目自动粘贴
```

**技术要点**:
- 主进程监听 `clipboard-changed` 事件
- LowDB 持久化存储
- 图片存储为 Base64 缩略图

---

#### 3.2 OCR 文字识别
**痛点**: 截图中的文字无法直接复制，需要手动输入
**方案**:
- 快捷键触发区域截图
- 自动识别截图中的文字
- 支持中英文混合识别
- 识别结果一键复制

**交互设计**:
```
快捷键 → 框选区域 → 自动识别 → 显示结果 → 一键复制/编辑
```

**技术要点**:
- 本地方案: Tesseract.js（离线识别）
- 云端方案: 百度/腾讯 OCR API（更准确）
- `desktopCapturer` 实现区域截图

---

#### 3.3 快捷短语/文本模板
**痛点**: 常用文本（邮件模板、代码片段、常用回复）需要反复输入
**方案**:
- 预设常用短语库（可自定义）
- 支持变量占位符：`{date}`, `{time}`, `{clipboard}`, `{cursor}`
- 支持多行文本和代码片段
- 关键词触发自动展开

**交互设计**:
```
输入触发词（如 `ty`） → 自动展开为 "Thank you for your email..."
或：唤醒面板 → 输入 `/` → 显示短语列表 → 选择插入
```

**技术要点**:
- 输入监听（可选）
- 模板变量解析引擎
- 支持导入/导出短语库

---

#### 3.4 智能计算器
**痛点**: 简单计算需要打开计算器应用，效率低
**方案**:
- 自动识别数学表达式并计算
- 支持基础运算、百分比、幂次、括号
- 支持单位换算（长度、重量、温度、数据大小）
- 支持汇率实时换算（API获取）
- 支持进制转换（二进制、八进制、十六进制）

**交互设计**:
```
选中 "100*1.08+50" → 唤醒 → 智能推荐 "计算器" → 点击显示结果 158
选中 "100 USD" → 唤醒 → 智能推荐 "汇率换算" → 显示人民币金额
```

**技术要点**:
- `math.js` 表达式解析
- 汇率 API: exchangerate-api.com 或 fixer.io
- 单位转换库: convert-units

---

### ⭐ 中优先级（功能丰富度）

#### 3.5 编码转换中心
**痛点**: 开发中频繁需要 Base64、URL、Unicode 编解码
**方案**:
- Base64 编码/解码
- URL 编码/解码（encodeURIComponent）
- Unicode 编码/解码（\uXXXX）
- HTML 实体编码/解码
- MD5/SHA 哈希计算
- 自动识别编码类型并推荐解码

**交互设计**:
```
选中 Base64 字符串 → 唤醒 → 智能识别 → 推荐 "Base64解码" → 一键解码
```

**技术要点**:
- 正则识别编码类型
- Web Crypto API 计算哈希
- 支持批量处理

---

#### 3.6 正则表达式助手
**痛点**: 正则表达式调试繁琐，常用模式记不住
**方案**:
- 实时正则测试（输入正则 + 测试文本）
- 预设常用正则库（邮箱、手机、IP、URL、日期等）
- 匹配结果高亮显示
- 支持替换预览
- 正则语法提示

**交互设计**:
```
唤醒 → 输入 `regex` 或点击正则图标 → 打开正则测试面板
选中文本 → 唤醒 → 点击 "正则提取" → 选择预设模式 → 提取结果
```

---

#### 3.7 颜色格式转换
**痛点**: 设计稿颜色格式与代码格式不一致，需要频繁转换
**方案**:
- 自动识别颜色格式（HEX/RGB/HSL/CMYK）
- 一键转换为其他格式
- 颜色预览显示
- 调色板功能（调整亮度、饱和度）
- 与取色器功能联动

**交互设计**:
```
选中 "#FF5733" → 唤醒 → 智能推荐 "颜色转换" → 显示 RGB(255,87,51) / HSL(9,100%,60%)
取色后 → 自动显示多种格式 → 点击复制所需格式
```

**技术要点**:
- 颜色转换算法（color-convert 库）
- Canvas 颜色预览

---

#### 3.8 Markdown 实时预览
**痛点**: 编写 Markdown 时无法即时预览效果
**方案**:
- 选中 Markdown 文本一键预览
- 支持 GFM（GitHub Flavored Markdown）
- 支持代码高亮
- 支持导出为 HTML/图片
- 支持表格美化

**交互设计**:
```
选中 Markdown 文本 → 唤醒 → 智能识别 → 推荐 "Markdown预览" → 弹窗显示渲染结果
```

**技术要点**:
- marked.js 解析 Markdown
- highlight.js 代码高亮
- html2canvas 导出图片

---

### 💡 创新功能（差异化竞争）

#### 3.9 AI 智能助手
**痛点**: 复杂文本处理需要多步操作，AI 可以一步到位
**方案**:
- 集成 OpenAI/Claude API
- 智能文本润色/翻译/摘要
- 代码解释/优化/生成
- 自然语言问答
- 支持自定义 Prompt 模板

**交互设计**:
```
选中代码 → 唤醒 → 点击 "AI解释" → 显示代码解释
选中文章 → 唤醒 → 点击 "AI摘要" → 生成摘要
输入问题 → 回车 → AI 回答
```

**技术要点**:
- API Key 加密存储（safeStorage）
- 流式响应显示
- 上下文记忆（可选）
- 预设 Prompt 模板库

---

#### 3.10 自动化工作流（宏）
**痛点**: 重复性多步操作效率低
**方案**:
- 录制操作序列（复制→处理→粘贴）
- 支持条件分支（如果是URL则...）
- 支持循环处理
- 一键执行工作流
- 工作流分享/导入

**交互设计**:
```
设置 → 工作流管理 → 新建工作流 → 添加步骤 → 保存
唤醒 → 输入工作流名称 → 执行
```

**示例工作流**:
```yaml
name: "代码格式化并复制"
steps:
  - action: trim          # 去除首尾空白
  - action: json-format   # JSON格式化
  - action: copy          # 复制到剪贴板
  - action: notify        # 显示通知
```

---

#### 3.11 窗口布局记忆
**痛点**: 每次开机需要重新排列窗口位置
**方案**:
- 保存当前所有窗口的位置和大小
- 命名保存多套布局方案
- 一键恢复布局
- 支持按应用过滤

**交互设计**:
```
唤醒 → 输入 "保存布局" → 输入布局名称 → 保存成功
唤醒 → 输入 "恢复布局" → 选择布局方案 → 恢复窗口位置
```

**技术要点**:
- PowerShell 枚举所有窗口
- User32.dll SetWindowPos 恢复位置
- JSON 存储布局数据

---

#### 3.12 智能环境感知
**痛点**: 不同场景需要不同的功能集
**方案**:
- 检测当前活动应用
- 根据应用类型推荐相关功能
- 支持自定义应用-功能映射
- 支持工作/生活模式切换

**场景示例**:
| 当前应用 | 智能推荐 |
|---------|---------|
| VS Code / IDEA | JSON格式化、变量命名、正则测试、代码解释 |
| Chrome / Edge | 翻译、搜索、链接处理、书签 |
| Excel / WPS | SQL IN、逗号拼接、数据清洗 |
| Photoshop | 颜色转换、取色器、图片处理 |
| 微信 / 钉钉 | 翻译、快捷短语、OCR |

**技术要点**:
- 获取前台窗口进程名
- 规则引擎匹配
- 用户可自定义规则

---

## 4. 技术架构

### 技术栈
- **Runtime**: Electron (主进程)
- **Frontend**: Vue 3 + Vite + Element Plus
- **组件化**: 7 个独立组件（ToolGrid、FeatureModal、SettingsModal 等）
- **Storage**: LocalStorage (配置)、LowDB (历史数据)、Electron safeStorage (密钥)

### 目录结构
```
QuickerUse/
├── electron/
│   ├── main/
│   │   ├── index.js          # 主进程入口
│   │   ├── systemTools.js    # 系统工具（PowerShell 调用）
│   │   ├── secretManager.js  # 密钥管理
│   │   ├── configManager.js  # 配置管理
│   │   ├── clipboardHistory.js  # [新增] 剪贴板历史
│   │   ├── ocrEngine.js         # [新增] OCR引擎
│   │   └── workflowEngine.js    # [新增] 工作流引擎
│   └── preload/
│       └── index.js          # 预加载脚本
├── src/
│   ├── components/
│   │   ├── ToolGrid.vue
│   │   ├── FeatureModal.vue
│   │   ├── SettingsModal.vue
│   │   ├── AddToolModal.vue
│   │   ├── FileInfoModal.vue
│   │   ├── ManageFeaturesModal.vue
│   │   ├── ClipboardHistory.vue    # [新增] 剪贴板历史组件
│   │   ├── RegexTester.vue         # [新增] 正则测试组件
│   │   ├── MarkdownPreview.vue     # [新增] Markdown预览组件
│   │   └── WorkflowEditor.vue      # [新增] 工作流编辑器
│   ├── utils/
│   │   ├── constants.js
│   │   ├── textProcessor.js
│   │   ├── fileProcessor.js
│   │   ├── calculator.js       # [新增] 计算器引擎
│   │   ├── encoder.js          # [新增] 编码转换
│   │   └── colorConverter.js   # [新增] 颜色转换
│   ├── App.vue
│   └── main.js
└── resources/
    └── MouseHook.exe
```

---

## 5. 实施路线图

### Phase 1: 核心体验（v0.2.0）
- [x] 贴图置顶功能
- [ ] 剪贴板历史管理
- [ ] 智能计算器（含单位换算）
- [ ] 编码转换中心

### Phase 2: 开发者友好（v0.3.0）
- [ ] 正则表达式助手
- [ ] Markdown 实时预览
- [ ] 颜色格式转换增强
- [ ] 快捷短语/文本模板

### Phase 3: 智能化（v0.4.0）
- [ ] OCR 文字识别
- [ ] AI 智能助手集成
- [ ] 智能环境感知

### Phase 4: 自动化（v0.5.0）
- [ ] 自动化工作流
- [ ] 窗口布局记忆
- [ ] 插件系统（可选）

---

## 6. 打包与发布
- 工具: `electron-builder`
- 目标:
    - Windows: `nsis` (安装包) + `portable` (免安装)
    - Mac: `dmg`
- 安装包功能:
    - 许可协议确认
    - 安装密码验证
    - 自定义安装目录

---

## 7. 竞品对比与差异化

| 功能特性 | QuickerUse | uTools | Quicker | Alfred |
|---------|-----------|--------|---------|--------|
| 鼠标中键唤醒 | ✅ | ❌ | ✅ | ❌ |
| 智能文本感知 | ✅ | ✅ | ✅ | ✅ |
| 剪贴板历史 | 🔜 | ✅ | ✅ | ✅ |
| OCR识别 | 🔜 | ✅ | ✅ | 插件 |
| AI集成 | 🔜 | 插件 | 插件 | 插件 |
| 工作流自动化 | 🔜 | ❌ | ✅ | ✅ |
| 免费开源 | ✅ | 部分免费 | 部分免费 | 付费 |
| 跨平台 | Win/Mac | Win/Mac/Linux | Win | Mac |

**QuickerUse 的差异化优势**:
1. **完全免费开源** - 无功能限制
2. **极简设计** - 聚焦核心场景，无冗余功能
3. **鼠标优先** - 中键唤醒，减少键盘依赖
4. **智能感知** - 自动分析内容，推荐最相关操作
5. **开发者友好** - 内置开发常用工具（JSON/YAML/正则/编码）
